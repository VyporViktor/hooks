# TradingView Webhooks Receiver

Приложение на Node.js для получения и отображения webhook-уведомлений от TradingView.

## Установка

```bash
npm install
```

## Запуск

**Важно:** Для запуска на порту 80 требуется права администратора (sudo на Linux/Mac).

```bash
sudo npm start
```

Или на обычном порту (например, 3000):
```bash
PORT=3000 node server.js
```

## Использование

1. Запустите сервер
2. Откройте в браузере: `http://localhost/` (или `http://localhost:3000/` если используете другой порт)
3. Отправляйте webhook-запросы на: `http://localhost/webhook` (POST запрос с JSON телом)

## Структура

- `server.js` - основной серверный файл
- `index.html` - главная страница с таблицей результатов
- `script.js` - клиентский JavaScript
- `styles.css` - стили
- `data/webhooks_data.json` - файл для хранения полученных webhooks (создается автоматически, недоступен напрямую из веба)

## Пример webhook запроса

```bash
curl -X POST http://localhost/webhook \
  -H "Content-Type: application/json" \
  -d '{"symbol":"BTCUSD","price":50000,"action":"buy"}'
```

## Особенности

- Автоматическое сохранение всех полученных webhooks в JSON файл
- Веб-интерфейс с таблицей всех полученных данных
- Автообновление данных каждые 5 секунд (опционально)
- Отображение статистики (количество webhooks)
- Файл с данными защищен от прямого доступа

## Отладка

Если возникают проблемы с загрузкой данных:

1. Проверьте логи сервера - все запросы логируются в консоль
2. Убедитесь, что директория `data/` существует и доступна для записи
3. Проверьте права доступа к файлам: `chmod 755 data/` и `chmod 644 data/webhooks_data.json`
4. Откройте консоль браузера (F12) для просмотра ошибок JavaScript
5. Проверьте, что API endpoint доступен: `curl http://your-server/api/data`

